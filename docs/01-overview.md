# 概要・アーキテクチャ・共有カーネル

## 概要

本設計書は、大学の履修・成績管理システムをイベントソーシング・CQRSパターンで構築するための設計サンプルです。TypeScript Effectを活用した実装を前提としています。

## アーキテクチャ

- **Event Sourcing**: すべての状態変更をイベントとして記録
- **CQRS (Command Query Responsibility Segregation)**: コマンド側とクエリ側を分離
- **TypeScript Effect**: 関数型プログラミングアプローチでの実装
- **Domain-Driven Design**: 境界付けられたコンテキストによる設計
- **Shared Kernel**: 基本エンティティとバリューオブジェクトを共有

## 境界付けられたコンテキスト

### 1. 履修管理 (Course Registration Context)
学生の履修登録プロセス全般を管理。科目選択、履修登録提出、承認、取消などを担当。

### 2. 授業管理 (Class Management Context)
授業の運営と管理。出席記録、課題管理、試験実施などの授業活動を担当。

### 3. 成績・単位管理 (Academic Record Context)
成績評価と単位認定。成績入力、確定、公開、単位認定、卒業判定を担当。

## 共有カーネル (Shared Kernel)

### 識別子 (Identifiers)
- **StudentId** - 学生識別子（全コンテキストで使用）
- **CourseId** - 科目識別子（全コンテキストで使用）
- **InstructorId** - 教員識別子（授業管理・成績管理で使用）
- **SemesterId** - 学期識別子（全コンテキストで使用）

### 真に共有されるバリューオブジェクト
- **Grade** - 成績（授業管理の課題評価・成績管理の最終成績で共有）
- **CreditUnit** - 単位数（履修管理の単位計算・成績管理の単位認定で共有）

*注意: 各コンテキストは必要な情報のみを保持し、外部参照として識別子を使用する*